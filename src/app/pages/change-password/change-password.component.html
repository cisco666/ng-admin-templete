<div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
    <div nz-col class="gutter-row" [nzSpan]="15">
        <nz-card [nzTitle]="'Cambiar contraseña para ' + headerEmail" [nzExtra]="extraTemplate">
            <form nz-form [formGroup]="changePassword" (ngSubmit)="submitForm(changePassword.value)">
                <nz-form-item>
                    <nz-form-label [nzSpan]="8" nzRequired>Contraseña</nz-form-label>
                    <nz-form-control [nzSpan]="13" nzHasFeedback nzErrorTip="La contraseña debe ser mayor a 5 carácteres">
                        <input nz-input type="password" formControlName="password" (ngModelChange)="validateConfirmPassword()" />
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSpan]="8" nzRequired>Confirma Contraseña</nz-form-label>
                    <nz-form-control [nzSpan]="13" nzHasFeedback [nzErrorTip]="passwordErrorTpl">
                      <input nz-input type="password" formControlName="repeatPassword" placeholder="Confirma tu contraseña" />
                      <ng-template #passwordErrorTpl let-control>
                        <ng-container *ngIf="control.hasError('required')">
                            ¡Confirma tu contraseña porfavor!
                        </ng-container>
                        <ng-container *ngIf="control.hasError('confirm')">
                            ¡La confirmación de contraseña no coincide!
                        </ng-container>
                      </ng-template>
                    </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                    <nz-form-control [nzOffset]="8" [nzSpan]="12">
                        <button 
                            nz-button 
                            nzType="primary" 
                            nzShape="round"
                            [nzLoading]="clicked"
                            [disabled]="!changePassword.valid">
                            <i nz-icon nzType="reload" nzTheme="outline"></i>
                            Cambiar Contraseña
                        </button>
                    </nz-form-control>
                </nz-form-item>
            </form>
        </nz-card>
        <ng-template #extraTemplate>
            <a routerLink="/usuarios">Lista de usuarios</a>
          </ng-template>
    </div>
</div>